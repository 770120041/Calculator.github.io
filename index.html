<!doctype html>
<html lang="zh-cn">

<head>
    <script type="text/javascript">
        function getTimeFromDiff(hour,minute,diff){
            hourdiff =  Math.floor((minute+diff)/60);
            console.log("minute is "+minute);
            console.log("diff is "+diff);
            console.log("hourdiff is "+hourdiff);
            if(hourdiff == 0){ //within an hour
                minute = diff+minute;
            }
            else{
                if(hourdiff+hour>23){
                    hour = hour + hourdiff - 24;
                }
                else if(hourdiff + hour < 0){
                    hour = hour+hourdiff+24;
                }
                else{
                    hour = hour + hourdiff;
                }
                var remainMinute =  (minute+diff)%60;
                console.log("remainMinute is "+remainMinute);
                minute = remainMinute>0 ? remainMinute : remainMinute+60;
            }
            return [hour,minute]
        }
        function btnAction()
        {
            var hour = document.getElementById("hour").value;
            var minute = document.getElementById("minute").value;
            var LatitudeValue = document.getElementById("Latitude-value").value;
            var LatitudeLocation = document.getElementById("LatitudePosition").value;  
            
            LatitudeValue = LatitudeLocation == "E"? LatitudeValue : -LatitudeValue;
            var latitudeDiff  =  LatitudeValue-120;
            // if(LatitudeLocation == "E"){
            // }
            // else{
            //     var latitudeDiff  = LatitudeValue+120;
            // }
                
            minuteDiff = latitudeDiff*4;
            var result = getTimeFromDiff(Number(hour),Number(minute),Number(minuteDiff));
            document.getElementById("hour-beijing").innerHTML = result[0];
            document.getElementById("minute-beijing").innerHTML = result[1];
            
        };

    </script>
</head>
<body>


<fieldset>
   
    <legend>Time calculator</legend>
    <div class="time">
     <label for="input-time">Beijing Time:</label>

     <input id="hour" type="text" value="00" style="width:20px"/>
     <span>:</span>
     <input id="minute" type="text" value="00" style="width:20px"/>
    </div> 
    

    <div class="control">
        <label for="Latitude">Latitude:</label>
        <input id="Latitude-value" type="number" value="00:00"/>
        <select id="LatitudePosition">
            
            <option value="E">E</option>
            <option value="W">W</option>
           


        </select>
    </div>
    <div>
            <button type="button" onclick="btnAction()">Calculate!</button> 
    </div>

    <div>
            <label for="Local">Local:</label>
            <span id='time'> 
                <label id="hour-beijing">10</label>:
                <label id="minute-beijing">00</label> 
            </span>
    </div>


</fieldset>
<fieldset>
       
    <h3  align= 'center' >Reference table</h3>
<fieldset>
 <div>
        <table  align='center' border='solid' style="width:100%">
                <tr>
                  <th>TimeZone</th>
                  <th>Latitude</th>
                  <th>Center</th>
                </tr>
               <tr>
                    <td>UTC</td>
                    <td>7.5W~7.5E</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>UTC+1</td>
                    <td>7.5E~22.5E</td>
                    <td>15E</td>
                </tr>
                <tr>
                    <td>UTC+2</td>
                    <td>22.5E~37.5E</td>
                    <td>30E</td>
                </tr>
                <tr>
                    <td>UTC+3</td>
                    <td>37.5E~52.5E</td>
                    <td>45E</td>
                </tr>
                <tr>
                    <td>UTC+4</td>
                    <td>52.5E~67.5E</td>
                    <td>60E</td>
                </tr>
                <tr>
                    <td>UTC+5</td>
                    <td>67.5E~82.5E</td>
                    <td>75E</td>
                </tr>
                <tr>
                    <td>UTC+6</td>
                    <td>82.5E~97.5E</td>
                    <td>90E</td>
                </tr>
                <tr>
                    <td>UTC+7</td>
                    <td>97.5E~112.5E</td>
                    <td>105E</td>
                </tr>
                <tr>
                    <td>UTC+8</td>
                    <td>112.5E~127.5E</td>
                    <td>120E</td>
                </tr>
                <tr>
                    <td>UTC+9</td>
                    <td>127.5E~142.5E</td>
                    <td>135E</td>
                </tr>
                <tr>
                    <td>UTC+10</td>
                    <td>142.5E~157.5E</td>
                    <td>150E</td>
                </tr>
                <tr>
                    <td>UTC+11</td>
                    <td>157.5E~172.5E</td>
                    <td>165E</td>
                </tr>
                <tr>
                    <td>UCT12</td>
                    <td>172.5E~172.5W</td>
                    <td>180</td>
                </tr>
                <tr>
                    <td>UTC-11</td>
                    <td>172.5W~157.5W</td>
                    <td>165W</td>
                </tr>
                <tr>
                    <td>UTC-10</td>
                    <td>157.5W~142.5W</td>
                    <td>150W</td>
                </tr>
                <tr>
                    <td>UTC-9</td>
                    <td>142.5W~127.5W</td>
                    <td>135W</td>
                </tr>
                <tr>
                    <td>UTC-8</td>
                    <td>127.5W~112.5W</td>
                    <td>120W</td>
                </tr>
                <tr>
                    <td>UTC-7</td>
                    <td>112.5W~97.5W</td>
                    <td>105W</td>
                </tr>
                <tr>
                    <td>UTC-6</td>
                    <td>97.5W~82.5W</td>
                    <td>90W</td>
                </tr>
                <tr>
                    <td>UTC-5</td>
                    <td>82.5W~67.5W</td>
                    <td>75W</td>
                </tr>
                <tr>
                    <td>UTC-4</td>
                    <td>67.5W~52.5W</td>
                    <td>60W</td>
                </tr>
                <tr>
                    <td>UTC-3</td>
                    <td>52.5W~37.5W</td>
                    <td>45W</td>
                </tr>
                <tr>
                    <td>UTC-2</td>
                    <td>37.5W~22.5W</td>
                    <td>30W</td>
                </tr>
                <tr>
                    <td>UTC-1</td>
                    <td>22.5W~7.5W</td>
                    <td>15W</td>
                </tr>
              </table> 
 </div>
</fieldset>
</body>
</html>